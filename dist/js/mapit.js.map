{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/lib/layers.ts","src/js/lib/map.ts","src/js/lib/ui.ts","src/js/main.ts"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","calTopoAttrib","calTopoUrl","calTopo","L","tileLayer","id","maxZoom","attribution","mapBoxAttrib","mapboxUrl","satellite","openTopoAttrib","openTopoUrl","openTopo","arcGisTopoAttrib","arcGisTopoUrl","arcGisTopo","usTopoUrl","usTopo","natGeoUrl","natGeo","streets","lidarAttrib","lidar","wms","layers","lidarMulti","baseLayers","CalTopo","Satellite","OpenTopo","ArcGis Topo","U.S. Topo","National Geo","Streets","Lidar","Lidar (MultiDirectional)","map","ui_1","Layers","updateStatus","mapCenter","getCenter","lat","toFixed","lng","document","getElementById","innerHTML","initMap","handleResize","center","zoom","control","addTo","scale","style","cursor","on","event","latlng","mapDiv","xhairDiv","mapElement","crossHairElement","x","y","statusHeight","clientHeight","viewportHeight","window","innerHeight","height","offsetLeft","Math","round","offsetWidth","offsetTop","offsetHeight","left","top","onresie","Map","addEventListener","setupMap","removeEventListener","type"],"mappings":"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","file":"mapit.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","// Map layers\r\nexport var calTopoAttrib = 'Map data &copy; <a href=\"http://caltopo.com/\">CalTopo</a> andUSGS';\r\nexport var calTopoUrl = 'http://s3-us-west-1.amazonaws.com/caltopo/topo/{z}/{x}/{y}.png?v=1';\r\nexport var calTopo = L.tileLayer(calTopoUrl, {id: 'caltopo', maxZoom: 16, attribution: calTopoAttrib});\r\nexport var mapBoxAttrib = 'Map data &copy; <a href=\"https://www.openstreetmap.org/\">OpenStreetMap</a> contributors, ' +\r\n\t\t'<a href=\"https://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA</a>, ' +\r\n\t\t'Imagery Â© <a href=\"https://www.mapbox.com/\">Mapbox</a>';\r\nexport var mapboxUrl = 'https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1Ijoic2VyaWFscGhvdG9nIiwiYSI6ImNqOW9sZDB4NzFmd20zM250cWl6cW9ldjkifQ.myAhLDT054QvyET45sIS4Q';\r\nexport var satellite = L.tileLayer(mapboxUrl, {id: 'mapbox.satellite', attribution: mapBoxAttrib});\r\nexport var openTopoAttrib = 'Map data: &copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>, ' + \r\n\t'<a href=\"http://viewfinderpanoramas.org\">SRTM</a> | Map style: &copy; ' + \r\n\t'<a href=\"https://opentopomap.org\">OpenTopoMap</a> (<a href=\"https://creativecommons.org/licenses/by-sa/3.0/\">CC-BY-SA</a>)';\r\nexport var openTopoUrl = 'https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png';\r\nexport var openTopo = L.tileLayer(openTopoUrl, {maxZoom: 17, attribution: openTopoAttrib});\r\nexport var arcGisTopoAttrib = '&copy; arcGIS <a href=\"http://links.esri.com/e800-summary\" target=\"_blank\"><b>(Topo Maps Terms of Use)</b></a>';\r\nexport var arcGisTopoUrl = 'http://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}';\r\nexport var arcGisTopo = L.tileLayer(arcGisTopoUrl, {maxZoom: 19, attribution: arcGisTopoAttrib});\r\nexport var usTopoUrl = 'http://services.arcgisonline.com/ArcGIS/rest/services/USA_Topo_Maps/MapServer/tile/{z}/{y}/{x}';\r\nexport var usTopo = L.tileLayer(usTopoUrl, {maxZoom: 15, attribution: arcGisTopoAttrib});\r\nexport var natGeoUrl = 'http://services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}';\r\nexport var natGeo = L.tileLayer(natGeoUrl, {maxZoom: 16, attribution: arcGisTopoAttrib});\r\nexport var streets = L.tileLayer(mapboxUrl, {id: 'mapbox.streets', maxZoom: 19, attribution: mapBoxAttrib});\r\nexport var lidarAttrib = 'Kentucky Division of Geographic Information (DGI)';\r\nexport var lidar = L.tileLayer.wms('https://kyraster.ky.gov/arcgis/services/ElevationServices/Ky_DEM_KYAPED_5FT_ShadedRelief_WGS84WM/ImageServer/WMSServer', {\r\n\tlayers: '0',\r\n\tattribution: lidarAttrib\r\n});\r\nexport var lidarMulti = L.tileLayer.wms('https://kyraster.ky.gov/arcgis/services/ElevationServices/Ky_DEM_KYAPED_5FT_MultiDirectionalHillshade/ImageServer/WMSServer', {\r\n\tlayers: '0',\r\n\tattribution: lidarAttrib\r\n});\r\n\r\nexport var baseLayers = {\r\n\t\"CalTopo\": calTopo,\r\n\t\"Satellite\": satellite,\r\n\t\"OpenTopo\": openTopo,\r\n\t\"ArcGis Topo\": arcGisTopo,\r\n\t\"U.S. Topo\": usTopo,\r\n\t\"National Geo\": natGeo,\r\n\t\"Streets\": streets,\r\n\t\"Lidar\": lidar,\r\n\t\"Lidar (MultiDirectional)\": lidarMulti\r\n};","import {handleResize} from './ui';\r\nimport * as Layers from './layers';\r\n\r\n// Stores the map instance\r\nvar map;\r\n\r\n\r\n// Initializes the map view\r\nexport function initMap() {\r\n\thandleResize();\t\r\n\r\n\t// Build the map\r\n\tmap = L.map('map-view', {\r\n\t\tcenter: [37.37, -84.22],\r\n\t\tzoom: 10,\r\n\t\tlayers: [Layers.arcGisTopo]\r\n\t});\r\n\tvar layersControl = L.control.layers(Layers.baseLayers).addTo(map);\r\n\tL.control.scale().addTo(map);\r\n\tdocument.getElementById('map-view').style.cursor = 'crosshair';\r\n\r\n\t// Map Actions\r\n\tmap.on(\"moveend\", updateStatus);\r\n\tmap.on(\"mousemove\", (e) => { handleMouseMove(e); });\r\n\r\n\t// Initialize the map status\r\n\tupdateStatus();\r\n}\r\n\r\n// Updates the map center status\r\nfunction updateStatus() {\r\n\tvar mapCenter = map.getCenter();\r\n\tvar lat = mapCenter.lat.toFixed(6);\r\n\tvar lng = mapCenter.lng.toFixed(6);\r\n\tdocument.getElementById(\"center-lat\").innerHTML = lat;\r\n\tdocument.getElementById(\"center-lon\").innerHTML = lng;\r\n}\r\n\r\n// Handles the mouse move event\r\nfunction handleMouseMove(event) {\r\n\tdocument.getElementById(\"cursor-lat\").innerHTML = event.latlng.lat.toFixed(6);\r\n\tdocument.getElementById(\"cursor-lon\").innerHTML = event.latlng.lng.toFixed(6);\r\n}","window.onresie = handleResize;\r\n\r\n// Sets the map crosshair \r\nfunction setCrossHair(mapDiv : string, xhairDiv: string) {\r\n\tvar mapElement = document.getElementById(mapDiv);\r\n\tvar crossHairElement = document.getElementById(xhairDiv);\r\n\tvar x = mapElement.offsetLeft + Math.round(mapElement.offsetWidth / 2) - 8;\r\n\tvar y = mapElement.offsetTop + Math.round(mapElement.offsetHeight / 2) - 8;\r\n\tcrossHairElement.style.left = x + \"px\";\r\n\tcrossHairElement.style.top = y + \"px\";\r\n}\r\n\r\n// Handles the resize of the UI\r\nexport function handleResize() {\r\n\tvar statusHeight = document.getElementById('map-status').clientHeight;\r\n\tvar viewportHeight = window.innerHeight;\r\n\tdocument.getElementById('map-view').style.height = viewportHeight - statusHeight + \"px\";\r\n\r\n\t// Set the cross hair position\r\n\tsetCrossHair(\"map-view\", \"crosshair\");\r\n}","const Map = require('./lib/map');\r\n\r\nwindow.addEventListener(\"load\", function setupMap(event) {\r\n\t// Only run this listener once\r\n\twindow.removeEventListener(event.type, setupMap, false);\r\n\r\n\tMap.initMap();\r\n}, false);"]}